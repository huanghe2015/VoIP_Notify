# 电话提醒系统

## 背景

为了让夜班睡个好觉，在需要的时候立刻做出反应，需要在有相关的邮件的时候做出提醒，通过电话的语音读出邮件主旨的方式通知。

## 需求描述

当邮件客户端收到需要通知的邮件时，会通过HTTP API通知本系统，然后本系统会将请求加入电话通知队列。

加到队列前检查拨打的号码是否符合规则。

队列执行命令的时候，先查找是否有电话对应的录音，没有则使用TTS生成对应的语音，然后拨通指定的电话（VoIP），拨通后播放录音以实现提醒。

未接通的则放到队尾，稍后再尝试拨通。

统计总通话时长（不满一分钟的按一分钟计算），避免通话时长打光（本项目使用简码，通话套餐为3000分钟）。

现阶段不设置验证，以后用的多了考虑设置用户和计费系统。

## 技术选型

TTS：EdgeTTS
Web框架：Flask
消息队列：
